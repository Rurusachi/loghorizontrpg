<div class="compendium-browser-filters">
    <div class="compendium-text-search">
        <h2>Search</h2>
        <input type="search" name="itemFilters.text"  value="{{itemFilters.text}}" data-dtype="String">
        <button class="compendium-clear-filters-button">Clear filters</button>
    </div>
    <div class="compendium-tag-search">
        <h2>Tags</h2>
        <input name="compendium-tag-search-input" value="{{itemFilterTags}}">
        <form>
            {{radioBoxes "tagFilterMode" tagFilterModes checked=itemFilters.tags.mode}}
        </form>
    </div>
    <div class="compendium-rank-filter hideable-parent" id="compendium-item-rank-filter">
        <div class="hideable grid-2ends">
            <h2 class=>Rank</h2>
            <i class="fas fa-minus hideable-icon"></i>
        </div>
        <div class="hideable-content">
            <div class="grid grid-3col">
                <div class="">
                    {{numberInput itemFilters.itemrank.min name="itemFilters.itemrank.min" step=1 min=0 max=30}}
                </div>
                <span class="flexcol align-center">to</span>
                <div class="">
                    {{numberInput itemFilters.itemrank.max name="itemFilters.itemrank.max" step=1 min=0 max=30}}
                </div>
            </div>
        </div>
    </div>
    <div class="compendium-timing-filter hideable-parent" id="compendium-item-timing-filter">
        <div class="hideable grid-2ends">
            <h2 class=>Timing</h2>
            <i class="fas fa-minus hideable-icon"></i>
        </div>
        <div class="hideable-content">
            {{#each config.timingTypes as |name type|}}
            <div class="compendium-timing-filter-checkbox">
                <input type="checkbox" name="{{type}}" value="{{type}}" {{#ifInArray type ../itemFilters.timings}} checked {{/ifInArray}}>
                <label for="{{type}}">{{localize name}}</label>
            </div>
            {{/each}}
        </div>
    </div>
    <div class="compendium-limit-filter hideable-parent" id="compendium-item-limit-filter">
        <div class="hideable grid-2ends">
            <h2 class=>Limit</h2>
            <i class="fas fa-minus hideable-icon"></i>
        </div>
        <div class="hideable-content">
            {{#each config.limitTypes as |name type|}}
            <div class="compendium-limit-filter-checkbox">
                <input type="checkbox" name="{{type}}" value="{{type}}" {{#ifInArray type ../itemFilters.limits}} checked {{/ifInArray}}>
                <label for="{{type}}">{{localize name}}</label>
            </div>
            {{/each}}
        </div>
    </div>
    <div class="compendium-source-filter flexcol hideable-parent" id="compendium-item-source-filter">
        <div class="hideable grid-2ends">
            <h2 class=>Compendiums</h2>
            <i class="fas fa-minus hideable-icon"></i>
        </div>
        <div class="hideable-content">
            {{#each compendiums as |compendium id|}}
            {{#ifAnyInArray compendium.types ../itemTypes }}
            <div class="compendium-source-filter-checkbox">
                <input type="checkbox" name="{{compendium.name}}" value="{{compendium.name}}" {{#ifInArray compendium.name ../itemFilters.compendiumSources}} checked {{/ifInArray}}>
                <label for="{{compendium.name}}">{{compendium.name}}</label>
            </div>
            {{/ifAnyInArray}}
            {{/each}}
        </div>
    </div>
</div>